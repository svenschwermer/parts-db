<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<title>List – parts-db</title>
<style>
td.inventory {
    text-align: right;
}
table {
    width: 100%;
    border-collapse: collapse;
}
th {
    color: white;
    background-color: dimgray;
    padding: 10pt;
}
td {
    padding: 5pt 10pt;
}
tr:nth-child(odd) {
    background-color: #f0f0f0;
}
body {
    font-family: Tahoma, Geneva, sans-serif;
}
div#error {
    background-color: #f4a4a4;
    border: #e41b1b 1.5pt solid;
    border-radius: 5pt;
    margin-bottom: 10pt;
    padding: 5pt 10pt;
    position: sticky;
    top: 10pt;
}
</style>
<script>
function changeInventory(partId, delta) {
    var xhttp = new XMLHttpRequest();
    xhttp.onreadystatechange = function() {
        if (this.readyState == 4) {
            if (this.status == 200) {
                document.getElementById("inventory_"+partId).innerText = this.responseText;
            } else {
                showError("Error: Status " + this.status + ": " + this.statusText)
            }
        }
    };
    xhttp.open("POST", "change-inventory", true);
    xhttp.send(delta);
}
function showError(str) {
    errorElement = document.getElementById("error");
    errorElement.innerText = str;
    errorElement.style.display = "block";
}
function hideError() {
    document.getElementById("error").style.display = "none";
}
</script>
</head>
<body>
<h1>List</h1>
<div id="error" style="display: none;" onclick="hideError()"></div>
<div>
<table>
    <tr style="text-align: left;">
        <th>Manufacturer</th>
        <th>Part number</th>
        <th>Category</th>
        <th>Value</th>
        <th>Package</th>
        <th>Description</th>
        <th>Location</th>
        <th>Inventory</th>
        <th>Distributor</th>
    </tr>
    <tr>
        <td>Vishay</td>
        <td><a href="/edit?part=abc">CRCW020141K2FNED</a></td>
        <td>Thick Film Resistors</td>
        <td>41.2&#8239;kΩ</td>
        <td>0201</td>
        <td>Thick Film Resistors 41.2K OHM 1%</td>
        <td>Schublade</td>
        <td class="inventory">
            <span id="inventory_abc">12</span>
            <a href="#" onclick="changeInventory('abc', 1)" style="font-size: 11pt;">▲</a>
            <a href="#" onclick="changeInventory('abc', -1)" style="font-size: 11pt;">▼</a>
        </td>
        <td>
            <a href="https://no.mouser.com/ProductDetail/Vishay-Dale/CRCW020141K2FNED?qs=sGAEpiMZZMvdGkrng054t4QdAY%2FQ0LweSFOpy7j2IJw%3D">Mouser</a>
            <br/>
            <a href="https://www.digikey.com/product-detail/en/vishay-dale/CRCW020141K2FNED/541-CRCW020141K2FNEDCT-ND/10448876">Digi-Key</a>
        </td>
    </tr>
    <tr>
        <td>Vishay</td>
        <td>CRCW020141K2FNED</td>
        <td>Thick Film Resistors</td>
        <td>41.2&#8239;kΩ</td>
        <td>0201</td>
        <td>Thick Film Resistors 41.2K OHM 1%</td>
        <td>Schublade</td>
        <td class="inventory">12</td>
        <td><a href="https://no.mouser.com/ProductDetail/Vishay-Dale/CRCW020141K2FNED?qs=sGAEpiMZZMvdGkrng054t4QdAY%2FQ0LweSFOpy7j2IJw%3D">Mouser</a></td>
    </tr>
    <tr>
        <td>Vishay</td>
        <td>CRCW020141K2FNED</td>
        <td>Thick Film Resistors</td>
        <td>41.2&#8239;kΩ</td>
        <td>0201</td>
        <td>Thick Film Resistors 41.2K OHM 1%</td>
        <td>Schublade</td>
        <td class="inventory">12</td>
        <td><a href="https://no.mouser.com/ProductDetail/Vishay-Dale/CRCW020141K2FNED?qs=sGAEpiMZZMvdGkrng054t4QdAY%2FQ0LweSFOpy7j2IJw%3D">Mouser</a></td>
    </tr>
</table>
</div>
</body>
</html>
